import{_ as V,d as W,r as _,b as C,e as s,f as n,t as i,h as e,F as f,j as m,g as x,l as F,k as D,v as I,s as z,B as L,o as l,n as M,p as T,q as $}from"./index.924bf220.js";/* empty css              */const q=h=>(T("data-v-1a8358a8"),h=h(),$(),h),G={class:"start"},J={class:"operation"},O={class:"name"},H={class:"btn"},K={key:0,class:"modal"},P={class:"winning"},Q={class:"all"},R=q(()=>n("div",{class:"title"},"\u4E2D\u5956\u540D\u5355",-1)),U={class:"level"},X={class:"choose"},Y=W({__name:"index",setup(h){let j=0;const k=_(!1),c=JSON.parse(localStorage.getItem("list")||"[]");let a=_(c.length);const B=_(!1),y=_(!1),{getData:w}=C("info","postInfo");w().then(g=>{const{code:d,data:u}=g;d===33&&(console.log(u.join_user_list),r.value=u.join_user_list||[])}).catch(()=>{});const r=_([]),p=_([]),E=_([]),{getData:S}=C("_","postWinning"),N=()=>{console.log(E.value),a.value-=1,p.value=[],B.value=!1};function A(){if(a.value<1||r.value.length<1)return;k.value=!0,j=c[a.value-1].num,B.value=!1;let g=0,d=setInterval(()=>{let u=[];for(let t=0;t<j;t++){let o=Math.floor(Math.random()*r.value.length);if(u.includes(o)){t--;continue}u.push(o)}p.value=u,g+=1,g>=20&&(clearInterval(d),z(()=>{B.value=!0,k.value=!1,E.value.unshift({...c[a.value-1],level:a.value,lucky:p.value.map(v=>r.value[v])});const t={leve:a.value,lid:localStorage.getItem("uuid")},o=p.value.map(v=>r.value[v].cj_number),b={zj_str:window.btoa(o.join(","))};S({data:t,headers:b}).then(v=>{console.log(v)})}))},200)}return(g,d)=>{const u=L;return l(),s("div",G,[n("div",J,[n("div",O,[n("span",null,"\u5F53\u524D\u62BD\u5956\uFF1A "+i(e(a)>0?e(a):1)+"\u7B49\u5956 ",1),n("span",null,[e(a)>1?(l(),s(f,{key:0},[m(i(e(c)[e(a)-1].name+"  ")+" / "+i("  "+e(c)[e(a)-1].num)+" \u4EBA ",1)],64)):(l(),s(f,{key:1},[m(i(e(c).length&&"  "+e(c)[0].name+e(c)[0].num+"\u4EBA"),1)],64))]),x(u,{class:"look",onClick:d[0]||(d[0]=t=>y.value=!0)},{default:F(()=>[m("\u67E5\u770B\u4E2D\u5956\u540D\u5355")]),_:1})])]),n("ul",null,[(l(!0),s(f,null,D(e(r),(t,o)=>(l(),s("li",{key:o,class:M({active:e(p).includes(o)})},[n("div",null,i(t.cj_number),1)],2))),128))]),n("div",H,[x(u,{class:"start-btn",disabled:e(k),onClick:A},{default:F(()=>[m(i(e(a)<1||e(r).length<1?"\u62BD\u5956\u7ED3\u675F":e(k)?"\u62BD\u5956\u4E2D":"\u5F00\u59CB\u62BD\u5956"),1)]),_:1},8,["disabled"])]),e(B)?(l(),s("div",K,[n("div",P,[(l(!0),s(f,null,D(e(p),t=>(l(),s("p",{key:t},i(e(r)[t].cj_number),1))),128))]),x(u,{class:"next",onClick:N},{default:F(()=>[m("\u7EE7\u7EED\u4E0B\u8F6E\u62BD\u5956")]),_:1})])):I("",!0),e(y)?(l(),s("div",{key:1,class:"modal",onClick:d[1]||(d[1]=t=>y.value=!1)},[n("div",Q,[R,(l(!0),s(f,null,D(e(E),(t,o)=>(l(),s("div",{key:o,class:"item"},[n("div",U,i(t.level)+"\u7B49\u5956\uFF1A",1),n("div",X,[(l(!0),s(f,null,D(t.lucky,(b,v)=>(l(),s("span",{key:v},i(b.cj_number),1))),128))])]))),128))])])):I("",!0)])}}});var te=V(Y,[["__scopeId","data-v-1a8358a8"]]);export{te as default};
