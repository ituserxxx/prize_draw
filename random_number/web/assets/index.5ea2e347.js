import{_ as W,d as L,v as M,r,b as F,w as T,e as n,f as o,t as v,h as e,F as g,j as m,g as w,l as b,k as y,x as I,s as q,B as G,o as u,n as $,p as H,q as J}from"./index.00dd2526.js";/* empty css              */const K=k=>(H("data-v-1187a744"),k=k(),J(),k),O={class:"start"},P={class:"operation"},Q={class:"name"},R={class:"btn"},U={key:0,class:"modal"},X={class:"winning"},Y={class:"all"},Z=K(()=>o("div",{class:"title"},"\u4E2D\u5956\u540D\u5355",-1)),ee={class:"level"},te={class:"choose"},le=L({__name:"index",setup(k){M(h=>({"82d083ea":e(j)}));let C=0;const B=r(!1),d=r([]),a=r(0),D=r(!1),E=r(!1),{getData:z}=F("info","postInfo");z().then(h=>{const{code:p,data:i}=h;if(p===33){const{join_user_list:l=[],l:s=[]}=i;_.value=l,d.value=s,a.value=s.filter(t=>!t.zj_list||!t.zj_list.length).length;let f=[];for(let t=0;t<s.length;t++)s[t].zj_list&&s[t].zj_list.length&&f.push({level:t+1,lucky:s[t].zj_list});x.value=f}}).catch(()=>{});const _=r([]),c=r([]),x=r([]),{getData:S}=F("_","postWinning"),A=()=>{console.log(x.value),a.value-=1,c.value=[],D.value=!1};function N(){if(a.value<1||_.value.length<1)return;B.value=!0,C=d.value[a.value-1].num,D.value=!1;let h=0,p=setInterval(()=>{let i=[];for(let l=0;l<C;l++){let s=Math.floor(Math.random()*_.value.length);if(i.includes(s)){l--;continue}i.push(s)}c.value=i,h+=1,h>=20&&(clearInterval(p),q(()=>{D.value=!0,B.value=!1,x.value.unshift({...d.value[a.value-1],level:a.value,lucky:c.value.map(t=>_.value[t].cj_number)});const l={leve:a.value,lid:localStorage.getItem("uuid")},s=c.value.map(t=>_.value[t].cj_number),f={zj_str:window.btoa(s.join(","))};S({data:l,headers:f}).then(t=>{console.log(t)})}))},200)}const V=()=>{E.value=!0},j=r("350px");return T(()=>c.value,()=>{c.value.length<=6?j.value="350px":c.value.length<=9&&(j.value="420px")}),(h,p)=>{const i=G;return u(),n("div",O,[o("div",P,[o("div",Q,[o("span",null,"\u5F53\u524D\u62BD\u5956\uFF1A "+v(e(a)>0?e(a):1)+"\u7B49\u5956 ",1),o("span",null,[e(a)>1?(u(),n(g,{key:0},[m(v(e(d)[e(a)-1].name+"  ")+" / "+v("  "+e(d)[e(a)-1].num)+" \u4EBA ",1)],64)):(u(),n(g,{key:1},[m(v(e(d).length&&"  "+e(d)[0].name+" / "+e(d)[0].num+"\u4EBA"),1)],64))]),w(i,{class:"look",onClick:V},{default:b(()=>[m("\u67E5\u770B\u4E2D\u5956\u540D\u5355")]),_:1})])]),o("ul",null,[(u(!0),n(g,null,y(e(_),(l,s)=>(u(),n("li",{key:s,class:$({active:e(c).includes(s)})},[o("div",null,v(l.cj_number),1)],2))),128))]),o("div",R,[w(i,{class:"start-btn",disabled:e(B),onClick:N},{default:b(()=>[m(v(e(a)<1||e(_).length<1?"\u62BD\u5956\u7ED3\u675F":e(B)?"\u62BD\u5956\u4E2D":"\u5F00\u59CB\u62BD\u5956"),1)]),_:1},8,["disabled"])]),e(D)?(u(),n("div",U,[o("div",X,[(u(!0),n(g,null,y(e(c),l=>(u(),n("p",{key:l},v(e(_)[l].cj_number),1))),128))]),w(i,{class:"next",onClick:A},{default:b(()=>[m("\u7EE7\u7EED\u4E0B\u8F6E\u62BD\u5956")]),_:1})])):I("",!0),e(E)?(u(),n("div",{key:1,class:"modal",onClick:p[0]||(p[0]=l=>E.value=!1)},[o("div",Y,[Z,(u(!0),n(g,null,y(e(x),(l,s)=>(u(),n("div",{key:s,class:"item"},[o("div",ee,v(l.level)+"\u7B49\u5956\uFF1A",1),o("div",te,[(u(!0),n(g,null,y(l.lucky,(f,t)=>(u(),n("span",{key:t},v(f),1))),128))])]))),128))])])):I("",!0)])}}});var ne=W(le,[["__scopeId","data-v-1187a744"]]);export{ne as default};
