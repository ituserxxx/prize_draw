import{_ as V,d as W,r as _,b as j,e as s,f as n,t as i,h as e,F as p,j as h,g as x,l as F,k as b,v as C,s as $,B as z,o as l,n as L,p as M,q as T}from"./index.a3da76c9.js";/* empty css              */const q=k=>(M("data-v-5db6fb8c"),k=k(),T(),k),G={class:"start"},J={class:"operation"},O={class:"name"},H={class:"btn"},K={key:0,class:"modal"},P={class:"winning"},Q={class:"all"},R=q(()=>n("div",{class:"title"},"\u4E2D\u5956\u540D\u5355",-1)),U={class:"level"},X={class:"choose"},Y=W({__name:"index",setup(k){let I=0;const B=_(!1),r=JSON.parse(localStorage.getItem("list")||"[]");let a=_(r.length);const D=_(!1),y=_(!1),{getData:w}=j("info","postInfo");w().then(f=>{const{code:d,data:c}=f;if(d===33){o.value=c.join_user_list||[];const t=Array.from({length:100},(u,g)=>({cj_number:`${g}`,uuid:"I am uuid 2038592035029395"}));o.value=t}});const o=_([]),m=_([]),E=_([]),{getData:S}=j("_","postWinning"),A=()=>{console.log(E.value),a.value-=1,m.value=[],D.value=!1};function N(){if(a.value<1||o.value.length<1)return;B.value=!0,I=r[a.value-1].num,D.value=!1;let f=0,d=setInterval(()=>{let c=[];for(let t=0;t<I;t++){let u=Math.floor(Math.random()*o.value.length);if(c.includes(u)){t--;continue}c.push(u)}m.value=c,f+=1,f>=20&&(clearInterval(d),$(()=>{D.value=!0,B.value=!1,E.value.unshift({...r[a.value-1],level:a.value,lucky:m.value.map(v=>o.value[v])});const t={leve:a.value,lid:localStorage.getItem("uuid")},u=m.value.map(v=>o.value[v].cj_number),g={zj_str:window.btoa(u.join(","))};S({data:t,headers:g}).then(v=>{console.log(v)})}))},200)}return(f,d)=>{const c=z;return l(),s("div",G,[n("div",J,[n("div",O,[n("span",null,"\u5F53\u524D\u62BD\u5956\uFF1A "+i(e(a)>0?e(a):1)+"\u7B49\u5956 ",1),n("span",null,[e(a)>1?(l(),s(p,{key:0},[h(i(e(r)[e(a)-1].name+"  ")+" / "+i("  "+e(r)[e(a)-1].num)+" \u4EBA ",1)],64)):(l(),s(p,{key:1},[h(i(e(r).length&&"  "+e(r)[0].name+e(r)[0].num+"\u4EBA"),1)],64))]),x(c,{class:"look",onClick:d[0]||(d[0]=t=>y.value=!0)},{default:F(()=>[h("\u67E5\u770B\u4E2D\u5956\u540D\u5355")]),_:1})])]),n("ul",null,[(l(!0),s(p,null,b(e(o),(t,u)=>(l(),s("li",{key:u,class:L({active:e(m).includes(u)})},[n("div",null,i(t.cj_number),1)],2))),128))]),n("div",H,[x(c,{class:"start-btn",disabled:e(B),onClick:N},{default:F(()=>[h(i(e(a)<1||e(o).length<1?"\u62BD\u5956\u7ED3\u675F":e(B)?"\u62BD\u5956\u4E2D":"\u5F00\u59CB\u62BD\u5956"),1)]),_:1},8,["disabled"])]),e(D)?(l(),s("div",K,[n("div",P,[(l(!0),s(p,null,b(e(m),t=>(l(),s("p",{key:t},i(e(o)[t].cj_number),1))),128))]),x(c,{class:"next",onClick:A},{default:F(()=>[h("\u7EE7\u7EED\u4E0B\u8F6E\u62BD\u5956")]),_:1})])):C("",!0),e(y)?(l(),s("div",{key:1,class:"modal",onClick:d[1]||(d[1]=t=>y.value=!1)},[n("div",Q,[R,(l(!0),s(p,null,b(e(E),(t,u)=>(l(),s("div",{key:u,class:"item"},[n("div",U,i(t.level)+"\u7B49\u5956\uFF1A",1),n("div",X,[(l(!0),s(p,null,b(t.lucky,(g,v)=>(l(),s("span",{key:v},i(g.cj_number),1))),128))])]))),128))])])):C("",!0)])}}});var te=V(Y,[["__scopeId","data-v-5db6fb8c"]]);export{te as default};
