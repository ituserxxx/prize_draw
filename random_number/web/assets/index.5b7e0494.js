import{_ as V,d as W,v as z,r as _,b as w,w as M,e as s,f as n,t as c,h as e,F as g,j as h,g as C,l as F,k as D,x as I,s as T,B as $,o as l,n as q,p as G,q as J}from"./index.41842546.js";/* empty css              */const O=m=>(G("data-v-015b60a3"),m=m(),J(),m),H={class:"start"},K={class:"operation"},P={class:"name"},Q={class:"btn"},R={key:0,class:"modal"},U={class:"winning"},X={class:"all"},Y=O(()=>n("div",{class:"title"},"\u4E2D\u5956\u540D\u5355",-1)),Z={class:"level"},ee={class:"choose"},te=W({__name:"index",setup(m){z(f=>({fa49ac74:e(E)}));let j=0;const k=_(!1),r=JSON.parse(localStorage.getItem("list")||"[]");let a=_(r.length);const B=_(!1),x=_(!1),{getData:S}=w("info","postInfo");w("luckyList","setLuckyList"),S().then(f=>{const{code:v,data:u}=f;v===33&&(console.log(u.join_user_list),d.value=u.join_user_list||[])}).catch(()=>{});const d=_([]),o=_([]),y=_([]),{getData:N}=w("_","postWinning"),A=()=>{console.log(y.value),a.value-=1,o.value=[],B.value=!1};function L(){if(a.value<1||d.value.length<1)return;k.value=!0,j=r[a.value-1].num,B.value=!1;let f=0,v=setInterval(()=>{let u=[];for(let t=0;t<j;t++){let i=Math.floor(Math.random()*d.value.length);if(u.includes(i)){t--;continue}u.push(i)}o.value=u,f+=1,f>=20&&(clearInterval(v),T(()=>{B.value=!0,k.value=!1,y.value.unshift({...r[a.value-1],level:a.value,lucky:o.value.map(p=>d.value[p])});const t={leve:a.value,lid:localStorage.getItem("uuid")},i=o.value.map(p=>d.value[p].cj_number),b={zj_str:window.btoa(i.join(","))};N({data:t,headers:b}).then(p=>{console.log(p)})}))},200)}const E=_("350px");return M(()=>o.value,()=>{o.value.length<=6?E.value="350px":o.value.length<=9&&(E.value="420px")}),(f,v)=>{const u=$;return l(),s("div",H,[n("div",K,[n("div",P,[n("span",null,"\u5F53\u524D\u62BD\u5956\uFF1A "+c(e(a)>0?e(a):1)+"\u7B49\u5956 ",1),n("span",null,[e(a)>1?(l(),s(g,{key:0},[h(c(e(r)[e(a)-1].name+"  ")+" / "+c("  "+e(r)[e(a)-1].num)+" \u4EBA ",1)],64)):(l(),s(g,{key:1},[h(c(e(r).length&&"  "+e(r)[0].name+e(r)[0].num+"\u4EBA"),1)],64))]),C(u,{class:"look",onClick:v[0]||(v[0]=t=>x.value=!0)},{default:F(()=>[h("\u67E5\u770B\u4E2D\u5956\u540D\u5355")]),_:1})])]),n("ul",null,[(l(!0),s(g,null,D(e(d),(t,i)=>(l(),s("li",{key:i,class:q({active:e(o).includes(i)})},[n("div",null,c(t.cj_number),1)],2))),128))]),n("div",Q,[C(u,{class:"start-btn",disabled:e(k),onClick:L},{default:F(()=>[h(c(e(a)<1||e(d).length<1?"\u62BD\u5956\u7ED3\u675F":e(k)?"\u62BD\u5956\u4E2D":"\u5F00\u59CB\u62BD\u5956"),1)]),_:1},8,["disabled"])]),e(B)?(l(),s("div",R,[n("div",U,[(l(!0),s(g,null,D(e(o),t=>(l(),s("p",{key:t},c(e(d)[t].cj_number),1))),128))]),C(u,{class:"next",onClick:A},{default:F(()=>[h("\u7EE7\u7EED\u4E0B\u8F6E\u62BD\u5956")]),_:1})])):I("",!0),e(x)?(l(),s("div",{key:1,class:"modal",onClick:v[1]||(v[1]=t=>x.value=!1)},[n("div",X,[Y,(l(!0),s(g,null,D(e(y),(t,i)=>(l(),s("div",{key:i,class:"item"},[n("div",Z,c(t.level)+"\u7B49\u5956\uFF1A",1),n("div",ee,[(l(!0),s(g,null,D(t.lucky,(b,p)=>(l(),s("span",{key:p},c(b.cj_number),1))),128))])]))),128))])])):I("",!0)])}}});var ae=V(te,[["__scopeId","data-v-015b60a3"]]);export{ae as default};
